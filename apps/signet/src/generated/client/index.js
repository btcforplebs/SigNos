
/* !!! This is code generated by Prisma. Do not edit directly. !!!
/* eslint-disable */
// biome-ignore-all lint: generated file

Object.defineProperty(exports, "__esModule", { value: true });

const {
  PrismaClientKnownRequestError,
  PrismaClientUnknownRequestError,
  PrismaClientRustPanicError,
  PrismaClientInitializationError,
  PrismaClientValidationError,
  getPrismaClient,
  sqltag,
  empty,
  join,
  raw,
  skip,
  Decimal,
  Debug,
  DbNull,
  JsonNull,
  AnyNull,
  NullTypes,
  makeStrictEnum,
  Extensions,
  warnOnce,
  defineDmmfProperty,
  Public,
  getRuntime,
  createParam,
} = require('./runtime/client.js')


const Prisma = {}

exports.Prisma = Prisma
exports.$Enums = {}

/**
 * Prisma Client JS version: 7.2.0
 * Query Engine version: 0c8ef2ce45c83248ab3df073180d5eda9e8be7a3
 */
Prisma.prismaVersion = {
  client: "7.2.0",
  engine: "0c8ef2ce45c83248ab3df073180d5eda9e8be7a3"
}

Prisma.PrismaClientKnownRequestError = PrismaClientKnownRequestError;
Prisma.PrismaClientUnknownRequestError = PrismaClientUnknownRequestError
Prisma.PrismaClientRustPanicError = PrismaClientRustPanicError
Prisma.PrismaClientInitializationError = PrismaClientInitializationError
Prisma.PrismaClientValidationError = PrismaClientValidationError
Prisma.Decimal = Decimal

/**
 * Re-export of sql-template-tag
 */
Prisma.sql = sqltag
Prisma.empty = empty
Prisma.join = join
Prisma.raw = raw
Prisma.validator = Public.validator

/**
* Extensions
*/
Prisma.getExtensionContext = Extensions.getExtensionContext
Prisma.defineExtension = Extensions.defineExtension

/**
 * Shorthand utilities for JSON filtering
 */
Prisma.DbNull = DbNull
Prisma.JsonNull = JsonNull
Prisma.AnyNull = AnyNull

Prisma.NullTypes = NullTypes




  const path = require('path')

/**
 * Enums
 */
exports.Prisma.TransactionIsolationLevel = makeStrictEnum({
  Serializable: 'Serializable'
});

exports.Prisma.RequestScalarFieldEnum = {
  id: 'id',
  keyName: 'keyName',
  createdAt: 'createdAt',
  processedAt: 'processedAt',
  requestId: 'requestId',
  remotePubkey: 'remotePubkey',
  method: 'method',
  params: 'params',
  allowed: 'allowed',
  autoApproved: 'autoApproved',
  approvalType: 'approvalType',
  keyUserId: 'keyUserId'
};

exports.Prisma.KeyUserScalarFieldEnum = {
  id: 'id',
  keyName: 'keyName',
  userPubkey: 'userPubkey',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt',
  revokedAt: 'revokedAt',
  suspendedAt: 'suspendedAt',
  suspendUntil: 'suspendUntil',
  lastUsedAt: 'lastUsedAt',
  description: 'description',
  trustLevel: 'trustLevel',
  nostrconnectRelays: 'nostrconnectRelays'
};

exports.Prisma.KeyScalarFieldEnum = {
  id: 'id',
  keyName: 'keyName',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt',
  deletedAt: 'deletedAt',
  pubkey: 'pubkey'
};

exports.Prisma.SigningConditionScalarFieldEnum = {
  id: 'id',
  method: 'method',
  kind: 'kind',
  content: 'content',
  keyUserKeyName: 'keyUserKeyName',
  allowed: 'allowed',
  keyUserId: 'keyUserId'
};

exports.Prisma.LogScalarFieldEnum = {
  id: 'id',
  timestamp: 'timestamp',
  type: 'type',
  method: 'method',
  params: 'params',
  keyUserId: 'keyUserId',
  autoApproved: 'autoApproved',
  approvalType: 'approvalType',
  keyName: 'keyName',
  remotePubkey: 'remotePubkey'
};

exports.Prisma.PolicyScalarFieldEnum = {
  id: 'id',
  name: 'name',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt',
  expiresAt: 'expiresAt',
  deletedAt: 'deletedAt',
  description: 'description'
};

exports.Prisma.PolicyRuleScalarFieldEnum = {
  id: 'id',
  method: 'method',
  kind: 'kind',
  maxUsageCount: 'maxUsageCount',
  currentUsageCount: 'currentUsageCount',
  policyId: 'policyId'
};

exports.Prisma.TokenScalarFieldEnum = {
  id: 'id',
  keyName: 'keyName',
  token: 'token',
  clientName: 'clientName',
  createdBy: 'createdBy',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt',
  deletedAt: 'deletedAt',
  expiresAt: 'expiresAt',
  redeemedAt: 'redeemedAt',
  keyUserId: 'keyUserId',
  policyId: 'policyId'
};

exports.Prisma.ConnectionTokenScalarFieldEnum = {
  id: 'id',
  keyName: 'keyName',
  token: 'token',
  createdAt: 'createdAt',
  expiresAt: 'expiresAt',
  redeemedAt: 'redeemedAt'
};

exports.Prisma.AdminLogScalarFieldEnum = {
  id: 'id',
  timestamp: 'timestamp',
  eventType: 'eventType',
  keyName: 'keyName',
  appId: 'appId',
  appName: 'appName',
  clientName: 'clientName',
  clientVersion: 'clientVersion',
  ipAddress: 'ipAddress',
  command: 'command',
  commandResult: 'commandResult'
};

exports.Prisma.SettingScalarFieldEnum = {
  key: 'key',
  value: 'value'
};

exports.Prisma.SortOrder = {
  asc: 'asc',
  desc: 'desc'
};

exports.Prisma.NullsOrder = {
  first: 'first',
  last: 'last'
};


exports.Prisma.ModelName = {
  Request: 'Request',
  KeyUser: 'KeyUser',
  Key: 'Key',
  SigningCondition: 'SigningCondition',
  Log: 'Log',
  Policy: 'Policy',
  PolicyRule: 'PolicyRule',
  Token: 'Token',
  ConnectionToken: 'ConnectionToken',
  AdminLog: 'AdminLog',
  Setting: 'Setting'
};
/**
 * Create the Client
 */
const config = {
  "previewFeatures": [],
  "clientVersion": "7.2.0",
  "engineVersion": "0c8ef2ce45c83248ab3df073180d5eda9e8be7a3",
  "activeProvider": "sqlite",
  "inlineSchema": "generator client {\n  provider   = \"prisma-client-js\"\n  output     = \"../src/generated/client\"\n  engineType = \"client\"\n}\n\ndatasource db {\n  provider = \"sqlite\"\n}\n\nmodel Request {\n  id           String    @id @default(uuid())\n  keyName      String?\n  createdAt    DateTime  @default(now())\n  processedAt  DateTime?\n  requestId    String\n  remotePubkey String\n  method       String\n  params       String?\n  allowed      Boolean?\n  autoApproved Boolean   @default(false)\n  approvalType String? // 'manual' | 'auto_trust' | 'auto_permission'\n  keyUserId    Int?\n  KeyUser      KeyUser?  @relation(fields: [keyUserId], references: [id])\n\n  @@index([allowed, createdAt])\n  @@index([remotePubkey])\n  @@index([keyUserId])\n}\n\nmodel KeyUser {\n  id                 Int                @id @default(autoincrement())\n  keyName            String\n  userPubkey         String\n  createdAt          DateTime           @default(now())\n  updatedAt          DateTime           @default(now()) @updatedAt\n  revokedAt          DateTime?\n  suspendedAt        DateTime? // When set, app is suspended and all requests are denied\n  suspendUntil       DateTime? // If set, app auto-resumes after this time\n  lastUsedAt         DateTime?\n  description        String?\n  trustLevel         String             @default(\"reasonable\") // 'paranoid' | 'reasonable' | 'full'\n  nostrconnectRelays String? // JSON array of relay URLs for nostrconnect apps (null for bunker apps)\n  logs               Log[]\n  signingConditions  SigningCondition[]\n  Token              Token[]\n  requests           Request[]\n\n  @@unique([keyName, userPubkey], name: \"unique_key_user\")\n  @@index([revokedAt])\n  @@index([suspendedAt])\n}\n\nmodel Key {\n  id        Int       @id @default(autoincrement())\n  keyName   String    @unique\n  createdAt DateTime  @default(now())\n  updatedAt DateTime  @default(now()) @updatedAt\n  deletedAt DateTime?\n  pubkey    String\n}\n\nmodel SigningCondition {\n  id             Int      @id @default(autoincrement())\n  method         String?\n  kind           String?\n  content        String?\n  keyUserKeyName String?\n  allowed        Boolean?\n  keyUserId      Int?\n  KeyUser        KeyUser? @relation(fields: [keyUserId], references: [id])\n\n  @@index([keyUserId])\n}\n\nmodel Log {\n  id           Int      @id @default(autoincrement())\n  timestamp    DateTime\n  type         String\n  method       String?\n  params       String?\n  keyUserId    Int?\n  autoApproved Boolean  @default(false)\n  approvalType String? // 'manual' | 'auto_trust' | 'auto_permission'\n  keyName      String? // Direct storage for denials (no KeyUser)\n  remotePubkey String? // Direct storage for denials (no KeyUser)\n  KeyUser      KeyUser? @relation(fields: [keyUserId], references: [id])\n\n  @@index([timestamp])\n  @@index([keyUserId])\n}\n\nmodel Policy {\n  id          Int          @id @default(autoincrement())\n  name        String\n  createdAt   DateTime     @default(now())\n  updatedAt   DateTime     @default(now()) @updatedAt\n  expiresAt   DateTime?\n  deletedAt   DateTime?\n  description String?\n  rules       PolicyRule[]\n  Token       Token[]\n}\n\nmodel PolicyRule {\n  id                Int     @id @default(autoincrement())\n  method            String\n  kind              String?\n  maxUsageCount     Int?\n  currentUsageCount Int?\n  policyId          Int?\n  Policy            Policy? @relation(fields: [policyId], references: [id])\n}\n\nmodel Token {\n  id         Int       @id @default(autoincrement())\n  keyName    String\n  token      String    @unique\n  clientName String\n  createdBy  String\n  createdAt  DateTime  @default(now())\n  updatedAt  DateTime  @default(now()) @updatedAt\n  deletedAt  DateTime?\n  expiresAt  DateTime?\n  redeemedAt DateTime?\n  keyUserId  Int?\n  policyId   Int?\n  policy     Policy?   @relation(fields: [policyId], references: [id])\n  KeyUser    KeyUser?  @relation(fields: [keyUserId], references: [id])\n\n  @@index([keyName])\n}\n\nmodel ConnectionToken {\n  id         Int       @id @default(autoincrement())\n  keyName    String\n  token      String    @unique\n  createdAt  DateTime  @default(now())\n  expiresAt  DateTime\n  redeemedAt DateTime?\n\n  @@index([keyName])\n  @@index([token])\n}\n\nmodel AdminLog {\n  id            Int      @id @default(autoincrement())\n  timestamp     DateTime @default(now())\n  eventType     String // key_locked, key_unlocked, app_suspended, app_unsuspended, daemon_started, command_executed\n  keyName       String? // For key events\n  appId         Int? // For app events (KeyUser id)\n  appName       String? // Denormalized for display\n  clientName    String? // signet-ui, signet-android, kill-switch\n  clientVersion String? // e.g., 1.3.0\n  ipAddress     String? // Client IP address\n  command       String? // For command_executed: the command that was sent\n  commandResult String? // For command_executed: the result/outcome\n\n  @@index([timestamp])\n  @@index([eventType])\n}\n\nmodel Setting {\n  key   String @id\n  value String\n}\n"
}

config.runtimeDataModel = JSON.parse("{\"models\":{\"Request\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"keyName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"processedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"requestId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"remotePubkey\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"method\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"params\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"allowed\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"autoApproved\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"approvalType\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"keyUserId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"KeyUser\",\"kind\":\"object\",\"type\":\"KeyUser\",\"relationName\":\"KeyUserToRequest\"}],\"dbName\":null},\"KeyUser\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"keyName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userPubkey\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"revokedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"suspendedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"suspendUntil\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"lastUsedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"description\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"trustLevel\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"nostrconnectRelays\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"logs\",\"kind\":\"object\",\"type\":\"Log\",\"relationName\":\"KeyUserToLog\"},{\"name\":\"signingConditions\",\"kind\":\"object\",\"type\":\"SigningCondition\",\"relationName\":\"KeyUserToSigningCondition\"},{\"name\":\"Token\",\"kind\":\"object\",\"type\":\"Token\",\"relationName\":\"KeyUserToToken\"},{\"name\":\"requests\",\"kind\":\"object\",\"type\":\"Request\",\"relationName\":\"KeyUserToRequest\"}],\"dbName\":null},\"Key\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"keyName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"deletedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"pubkey\",\"kind\":\"scalar\",\"type\":\"String\"}],\"dbName\":null},\"SigningCondition\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"method\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"kind\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"content\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"keyUserKeyName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"allowed\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"keyUserId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"KeyUser\",\"kind\":\"object\",\"type\":\"KeyUser\",\"relationName\":\"KeyUserToSigningCondition\"}],\"dbName\":null},\"Log\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"timestamp\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"type\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"method\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"params\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"keyUserId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"autoApproved\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"approvalType\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"keyName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"remotePubkey\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"KeyUser\",\"kind\":\"object\",\"type\":\"KeyUser\",\"relationName\":\"KeyUserToLog\"}],\"dbName\":null},\"Policy\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"expiresAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"deletedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"description\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"rules\",\"kind\":\"object\",\"type\":\"PolicyRule\",\"relationName\":\"PolicyToPolicyRule\"},{\"name\":\"Token\",\"kind\":\"object\",\"type\":\"Token\",\"relationName\":\"PolicyToToken\"}],\"dbName\":null},\"PolicyRule\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"method\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"kind\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"maxUsageCount\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"currentUsageCount\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"policyId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"Policy\",\"kind\":\"object\",\"type\":\"Policy\",\"relationName\":\"PolicyToPolicyRule\"}],\"dbName\":null},\"Token\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"keyName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"token\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"clientName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdBy\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"deletedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"expiresAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"redeemedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"keyUserId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"policyId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"policy\",\"kind\":\"object\",\"type\":\"Policy\",\"relationName\":\"PolicyToToken\"},{\"name\":\"KeyUser\",\"kind\":\"object\",\"type\":\"KeyUser\",\"relationName\":\"KeyUserToToken\"}],\"dbName\":null},\"ConnectionToken\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"keyName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"token\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"expiresAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"redeemedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":null},\"AdminLog\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"timestamp\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"eventType\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"keyName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"appId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"appName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"clientName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"clientVersion\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"ipAddress\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"command\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"commandResult\",\"kind\":\"scalar\",\"type\":\"String\"}],\"dbName\":null},\"Setting\":{\"fields\":[{\"name\":\"key\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"value\",\"kind\":\"scalar\",\"type\":\"String\"}],\"dbName\":null}},\"enums\":{},\"types\":{}}")
defineDmmfProperty(exports.Prisma, config.runtimeDataModel)
config.compilerWasm = {
      getRuntime: async () => require('./query_compiler_bg.js'),
      getQueryCompilerWasmModule: async () => {
        const { Buffer } = require('node:buffer')
        const { wasm } = require('./query_compiler_bg.wasm-base64.js')
        const queryCompilerWasmFileBytes = Buffer.from(wasm, 'base64')

        return new WebAssembly.Module(queryCompilerWasmFileBytes)
      }
    }

const PrismaClient = getPrismaClient(config)
exports.PrismaClient = PrismaClient
Object.assign(exports, Prisma)
